<!DOCTYPE html>
<html>
    <head>
        <!-- voir https://greensock.com/docs/v3/Installation#installer -->
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
        <script src="svgelement.js"></script>
        
        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            svg { border: 1px solid #ccc; margin: 10px 0; }
            
        </style>
    </head>
    <body>
        <h2>TD1 - Exercice SVG</h2>
        <!-- <svg xmlns="http://www.w3.org/2000/svg" width="960" height="540" viewBox="0 0 16 9" id="dessin">
            <rect x="0" y="0" width="960" height="540" fill="LightCyan"/>
            <rect x="0" y="6" width="100" height="3" fill="blue"/>
            <circle cx="13" cy="1.5" r="1" fill="yellow" />
            <rect x="6.2" y="0.5" width="0.5" height="6" fill="Lightgrey"/>
            <path  d="M 9 5 L 6 0.5 L 4 5 Z" fill="white"/>
            <path d="M9 5 L3.5 5.3 L3 6.5 L8 6.5 Z" fill="Darkred" />
            

        </svg> -->
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
        <script>
            class Voilier {
                constructor(parent) {
                    // groupe pour englober le voilier
                    const g = parent.appendElement("g");

                    // Soleil
                    g.appendElement("circle", {
                        cx: "13",
                        cy:"1.5",
                        r:"1",
                        fill: "yellow"
                    });


                    // Mat 
                    g.appendElement("rect", {
                        x:"6.2",
                        y:"0.5",
                        width:"0.5",
                        height:"6",
                        fill: "Lightgrey"
                    });


                    // Voile
                    g.appendElement("path", {
                        d: "M 9 5 L 6 0.5 L 4 5 Z",
                        fill: "white",
                        "stroke":"black",
                        "stroke-width":"0.01"
                    });

                    // Mer 
                    g.appendElement("rect", {
                        x:"0",
                        y:"6",
                        width:"100",
                        height:"3",
                        fill: "blue"
                    });

                    // Coque (coordonnées relatives au point de référence)
                    g.appendElement("path", {
                        d: "M9 5 L3.5 5.3 L3 6.5 L8 6.5 Z",
                        fill: "brown"
                    });                 
                }
            }

            class Paysage {
                constructor(parent) {
                    // groupe pour le paysage
                    const g = parent.appendElement("g");

                    // Fond
                    g.appendElement("rect", {
                        x: 0, y: 0, width: 16, height: 9,
                        fill: "#DFF"
                    });

                    // Voilier
                    const voilier = new Voilier(g, 6, 5);
                }
            }

            // Initialisation quand la page est prête
            document.addEventListener('DOMContentLoaded', function() {
                const svg = SVGelement.fromSelector("#dessin-demo");
                if (svg) {
                    new Paysage(svg);
                }
            });
        </script>

        <div style="text-align: center; margin: 20px 0;">
        <h3>Démo Interactive - Paysage généré par JavaScript</h3>
        <svg xmlns="http://www.w3.org/2000/svg" width="400" height="225" viewBox="0 0 16 9" id="dessin-demo" style="border: 1px solid #333;">
        </svg>
        </div>
    </body>
</html>